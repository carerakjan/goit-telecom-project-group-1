import streamlit as st
import pandas as pd

@st.dialog("Instruction", width="large")         
def inst():
    with open('project/web/resources/docs/instructions_for_the_user.txt', 'r', encoding='utf-8') as file:
      instructions = file.read()
      st.write(instructions)


@st.dialog("–ó—Ä–∞–∑–æ–∫ —Ñ–∞–π–ª—É", width="large")         
def example():
    showcsv = pd.read_csv("project/data/users.csv")
    st.header("–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –∫–æ–ª–æ–Ω–æ–∫ —Ç–∞ –¥–∞–Ω–∏—Ö –¥–ª—è —Å–≤–æ–≥–æ —Ñ–∞–π–ª—É")
    st.write(showcsv)

@st.dialog("–û–±–º–µ–∂–µ–Ω–Ω—è –≤–≤–æ–¥—É –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤ –¥–ª—è –ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–Ω—è",width="large")  
def max_value_list():
    st.header("–õ–∏—Å—Ç –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏—Ö —Ç–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–Ω—å –¥–ª—è –ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–Ω—è")

    data = {
        "–ü–æ–ª–µ": [
            "–í—ñ–∫ –ø—ñ–¥–ø–∏—Å–∫–∏ (–≤ –º—ñ—Å—è—Ü—è—Ö)",
            "–ó–∞–ª–∏—à–æ–∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É (–≤ –º—ñ—Å—è—Ü—è—Ö)",
            "–°–µ—Ä–µ–¥–Ω—ñ–π –æ–±'—î–º –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–ì–±)",
            "–°–µ—Ä–µ–¥–Ω—ñ–π –æ–±'—î–º –≤—ñ–¥–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–ì–±)",
            "–ü–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–ì–±)"
        ],
        "–º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è": [
            "0 –º—ñ—Å—è—Ü—ñ–≤",
            "0 –º—ñ—Å—è—Ü—ñ–≤",
            "0 –ì–±",
            "0 –ì–±",
            "0 –ì–±"
        ],"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è": [
            "12 –º—ñ—Å—è—Ü—ñ–≤",
            "12 –º—ñ—Å—è—Ü—ñ–≤",
            "8830 –ì–±",
            "906 –ì–±",
            "14 –ì–±"
        ]
        
    }

    df = pd.DataFrame(data)
    st.dataframe(df, hide_index=True)



def toggle_layout_home():
    st.session_state.hide_layout = not st.session_state.hide_layout

def refresh_page():
    # –°–∫–∏–¥–∞–Ω–Ω—è –ø–æ–∫–∞–∑—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —ñ –æ—á–∏—â–µ–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –ø—Ä–æ–≥–Ω–æ–∑—ñ–≤
    st.session_state.all_data = pd.DataFrame(columns=["–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á", "–ö–∞—Ç–µ–≥–æ—Ä—ñ—è –≤—ñ–¥—Ç–æ–∫—É", "–í—ñ—Ä–æ–≥—ñ–¥–Ω—ñ—Å—Ç—å –≤—ñ–¥—Ç–æ–∫—É", "–ú–æ–¥–µ–ª—å"])  # –û—á–∏—â–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –ø—Ä–æ–≥–Ω–æ–∑—ñ–≤
    st.session_state.user_count = 0  # –°–∫–∏–¥–∞–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

def base():

    st.sidebar.image("project/web/resources/images/logo.png", use_column_width=False, width=100)

    st.sidebar.markdown("–¶–µ–π –¥–æ–¥–∞—Ç–æ–∫ –¥–æ–∑–≤–æ–ª—è—î –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∫–ª—ñ—î–Ω—Ç—Å—å–∫—ñ –¥–∞–Ω—ñ —Ç–∞ –≤–∏–∑–Ω–∞—á–∞—Ç–∏ –π–º–æ–≤—ñ—Ä–Ω—ñ—Å—Ç—å –ø—Ä–∏–ø–∏–Ω–µ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–æ—Å–ª—É–≥–∏.")

    # –ö–Ω–æ–ø–∫–∞ "–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ –≥–æ–ª–æ–≤–Ω—É"
    if st.sidebar.button("–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ –≥–æ–ª–æ–≤–Ω—É üè†", on_click=toggle_layout_home):
        pass
    # –ö–Ω–æ–ø–∫–∞ "–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ –≥–æ–ª–æ–≤–Ω—É"
    if st.sidebar.button("–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è üìÑ"):
        inst()
    # –ö–Ω–æ–ø–∫–∞ "–ó—Ä–∞–∑–æ–∫ —Ñ–∞–π–ª—É"
    if st.sidebar.button("–¢–µ—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª üìÑ"):
        example()
    
    if st.sidebar.button("–í–∏–º–æ–≥–∏ –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤ –≤–≤–æ–¥—É üìã"):
        max_value_list()
    

    # –ö–Ω–æ–ø–∫–∞ "–û–Ω–æ–≤–∏—Ç–∏"
    if st.sidebar.button("–û–Ω–æ–≤–∏—Ç–∏ üîÑ", on_click=refresh_page):
        pass


